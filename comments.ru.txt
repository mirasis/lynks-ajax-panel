Ajax Status Panel for Asterisk
Licensed under GPL v2
(с) Lynks.Ltd 2010

Комментарии к исходному коду

Идея: получить веб-панель для просмотра статуса абонентов и транков вместо тормоной FOP с поддержкой
файлов конфигурации последней.

Программа понимает конфиги FOP, но берет только данные о кнопках и их принадлежности к приложениям,
транкам или пользователям. Позиция кнопки на экране зависит лишь от варианта отображения по именам
или номерам. Так же не воспринимаются цветные области и подписи для них.

Подразумевается, что в рамках системы не возможно совпадение номеров каналов даже для разных
технологий. Например, если есть SIP/100, то не должно быть, к примеру, ZAP/100. Это связано прежде
всего с тем, чтобы упростить анализ реальных межсоединений без учета локальных каналов. Бывает,
что вызов на номер SIP/100 происходит через канал LOCAL/100@from-internal, который в реальности
соединен с SIP/100. Это накладывает некоторые ограничения, которые легко обходятся. Так например,
 трехзначные номера каналов ZAP появятся при большом количестве каналов, например при четырех
потоках Е1, что само собой предназначено для большой компании, а для такой компании трехзначная
нумерация тесновата. С другой стороны такой подход позволяет отслеживать вообще любые соединения к
любым, даже виртуальным экстеншенам.

Панель не отслеживает количество одновременных каналов к какому-либо экстеншену и будет показан
самый последний в сформировавшемся списке, что равносильно случайному выбору.

Панель имеет строку поиска и сортировке. Возможна сортировка только по возрастанию номеров либо
имен. Строка поиска позволяет производить поиск по номерам и именам одновременно и имеет два
режима работы: полнотекстовый, при котором ищутся совпадения с любого места, и поиск строго с
начала строки, для чего нужно перед вводимой строкой поиска добавить один пробел.

Длительная работа с панелью в google chrome приводит к утечкам памяти. Решение простое:
периодически (раз в час) перезагружать страницу.